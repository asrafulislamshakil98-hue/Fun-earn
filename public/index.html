<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fun-Earn</title>
    <link rel="icon" href="uploads/logoapp.png" type="image/x-icon">
    <!-- FontAwesome & CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <!-- Socket.io -->
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>

    <!-- ‡ßß. ‡¶Ö‡¶•‡ßá‡¶®‡¶ü‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶∏‡ßá‡¶ï‡¶∂‡¶® (‡¶Ü‡¶™‡¶°‡ßá‡¶ü‡ßá‡¶°) -->
<div id="auth-section" class="auth-container">
    <div class="auth-box">
        <h1 class="logo-text">Fun-Earn</h1>
        
        <!-- ‡¶≤‡¶ó‡¶ø‡¶® ‡¶´‡¶∞‡ßç‡¶Æ -->
        <div id="login-form">
            <h3>‡¶≤‡¶ó‡¶ø‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</h3>
            <input type="text" id="loginId" placeholder="‡¶á‡¶Æ‡ßá‡¶á‡¶≤ / ‡¶´‡ßã‡¶® / ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶®‡ßá‡¶Æ">
            <input type="password" id="loginPass" placeholder="‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°">
            <button class="btn-primary" onclick="login()">‡¶≤‡¶ó ‡¶á‡¶®</button>
            <div class="divider"></div>
            <button class="btn-secondary" onclick="toggleAuth()">‡¶®‡¶§‡ßÅ‡¶® ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶ñ‡ßÅ‡¶≤‡ßÅ‡¶®</button>
        </div>

        <!-- ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶´‡¶∞‡ßç‡¶Æ -->
        <div id="register-form" style="display:none;">
            <h3>‡¶∏‡¶æ‡¶á‡¶® ‡¶Ü‡¶™</h3>
            <input type="text" id="regUser" placeholder="‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶®‡ßá‡¶Æ (Example: @shakil)">
            
            <!-- ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶¨‡¶æ ‡¶´‡ßã‡¶® ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü -->
            <div style="display:flex; gap:10px; margin:10px 0;">
                <label><input type="radio" name="regType" value="email" checked onclick="toggleRegInput('email')"> ‡¶á‡¶Æ‡ßá‡¶á‡¶≤</label>
                <label><input type="radio" name="regType" value="mobile" onclick="toggleRegInput('mobile')"> ‡¶´‡ßã‡¶®</label>
            </div>
            
            <input type="text" id="regIdentifier" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶¶‡¶ø‡¶®">
            <input type="password" id="regPass" placeholder="‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°">
            
            <label style="font-size:12px; display:block; text-align:left;">‡¶ú‡¶®‡ßç‡¶Æ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ:</label>
            <input type="date" id="regBirthday" style="width:100%; padding:10px; border:1px solid #ddd; border-radius:5px; margin-bottom:10px;">

            <button class="btn-success" onclick="register()">‡¶∏‡¶æ‡¶á‡¶® ‡¶Ü‡¶™</button>
            <div class="divider"></div>
            <button class="btn-secondary" onclick="toggleAuth()">‡¶≤‡¶ó‡¶ø‡¶® ‡¶™‡ßá‡¶á‡¶ú‡ßá ‡¶Ø‡¶æ‡¶®</button>
        </div>

    </div>
</div>
    <nav class="navbar">
    
        <!-- ‡ßß. ‡¶¨‡¶æ‡¶Æ ‡¶™‡¶æ‡¶∂: ‡¶≤‡ßã‡¶ó‡ßã + ‡¶®‡¶æ‡¶Æ + ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö -->
        <div class="nav-left">
            <img src="uploads/logoapp.png" class="app-logo" onclick="location.reload()" title="Home">
        
            <!-- ‡¶≤‡ßç‡¶Ø‡¶æ‡¶™‡¶ü‡¶™‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶®‡¶æ‡¶Æ (‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤‡ßá ‡¶≤‡ßÅ‡¶ï‡¶æ‡¶®‡ßã ‡¶•‡¶æ‡¶ï‡¶¨‡ßá) -->
            <h2 class="app-name" onclick="location.reload()">Fun-Earn</h2>
        
            <!-- ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶¨‡¶ï‡ßç‡¶∏ -->
             <div class="search-box" id="mobileSearchBox" onclick="toggleMobileSearch()">
                <i class="fas fa-search"></i>
                <input type="text" id="searchInput" placeholder="Search..." onkeypress="handleSearch(event)">
            </div>
        </div>

        <!-- ‡ß®. ‡¶Æ‡¶æ‡¶ù‡¶ñ‡¶æ‡¶® (‡¶´‡¶æ‡¶Å‡¶ï‡¶æ) -->
        <div class="nav-center"></div>

        <!-- ‡ß©. ‡¶°‡¶æ‡¶® ‡¶™‡¶æ‡¶∂: ‡¶¨‡¶æ‡¶ü‡¶®‡¶ó‡ßÅ‡¶≤‡ßã -->
        <div class="nav-right">
        
            <div class="coin-display-box" title="My Coins">
                <i class="fas fa-coins coin-icon"></i>
                <span id="nav-coin-balance">0</span>
            </div>
            <!-- Upload -->
            <div class="nav-icon-btn plus-btn" onclick="toggleUploadMenu()">
                <i class="fas fa-plus"></i>
            </div>

            <!-- Messenger -->
            <div class="nav-icon-btn" onclick="toggleMessenger()">
                <img src="uploads/message.png" class="custom-nav-icon" alt="Msg">
            </div>

            <!-- Notification -->
            <div class="nav-icon-btn" onclick="toggleNotifications()">
                <i class="fas fa-bell"></i>
                <span class="notification-badge" style="display:none;">0</span>
            </div>

            <!-- Menu -->
            <div class="nav-icon-btn" onclick="toggleSettingsMenu()">
                <i class="fas fa-th"></i>
            </div>

        </div>
    </nav>
        <!-- ‡¶Æ‡ßá‡¶á‡¶® ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞ -->
        <div class="main-container" style="justify-content: center;">
            
            <!-- ‡¶®‡¶ø‡¶â‡¶ú ‡¶´‡¶ø‡¶° ‡¶∏‡ßá‡¶ï‡¶∂‡¶® -->
            <div class="feed-section">
                
                <!-- ‡¶ó‡ßç‡¶≤‡ßã‡¶¨‡¶æ‡¶≤ ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶∞‡ßá‡¶ú‡¶æ‡¶≤‡ßç‡¶ü (‡¶≤‡ßÅ‡¶ï‡¶æ‡¶®‡ßã ‡¶•‡¶æ‡¶ï‡ßá, ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶ï‡¶∞‡¶≤‡ßá ‡¶Ü‡¶∏‡ßá) -->
                <div id="global-search-results" style="display: none; margin-bottom: 20px;">
                    <div class="card" style="padding: 10px 15px; display:flex; align-items:center; gap: 15px; background:white; position: sticky; top: 60px; z-index: 900;">
                        <button onclick="closeGlobalSearch()" style="background:#f0f2f5; color:black; border:none; width:40px; height:40px; border-radius:50%; cursor:pointer; font-weight:bold; display:flex; justify-content:center; align-items:center;">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h3 style="margin:0; font-size: 18px; color:#1877f2;">Search Results</h3>
                    </div>
                    <div id="web-results-grid" class="shorts-grid-container" style="margin-top: 10px;"></div>
                </div>
                 <!-- ‡ß®. üëá ‡¶®‡¶§‡ßÅ‡¶®: ‡¶ü‡¶™ ‡¶∂‡¶∞‡ßç‡¶ü‡¶∏ ‡¶¨‡¶æ‡¶∞ (Stories Style) -->
                <div id="top-shorts-bar" class="stories-container">
                 <!-- ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶ú‡¶æ‡¶≠‡¶æ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶¶‡¶ø‡ßü‡ßá ‡¶∂‡¶∞‡ßç‡¶ü‡¶∏ ‡¶≤‡ßã‡¶° ‡¶π‡¶¨‡ßá -->
                <div style="padding:20px; text-align:center; width:100%;">üîÑ ‡¶≤‡ßã‡¶°‡¶ø‡¶Ç...</div>
                </div>

                 <!-- ‡ß©. ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶¨‡¶ï‡ßç‡¶∏ (‡¶Ø‡ßá‡¶Æ‡¶® ‡¶Ü‡¶õ‡ßá) -->
                <div class="card create-post" id="create-post-box">
                 <!-- ... -->
                </div>

                <!-- ‡¶Æ‡ßá‡¶á‡¶® ‡¶´‡¶ø‡¶° (‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶™‡ßã‡¶∏‡ßç‡¶ü‡¶ó‡ßÅ‡¶≤‡ßã ‡¶≤‡ßã‡¶° ‡¶π‡¶¨‡ßá) -->
                <div id="feed"></div> 

            </div>
        </div>

    </div> <!-- App Section End -->


    <!-- =========================================
       ‡ß©. ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® ‡¶Æ‡ßá‡¶®‡ßÅ ‡¶è‡¶¨‡¶Ç ‡¶™‡¶™-‡¶Ü‡¶™ ‡¶Æ‡ßã‡¶°‡¶æ‡¶≤‡¶∏
    ========================================== -->

    <!-- ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶Æ‡ßá‡¶®‡ßÅ (Dropdown) -->
    <div id="upload-dropdown" class="upload-menu-box" style="display: none;">
        <div class="upload-item" onclick="selectUploadType('photo')">
            <div class="icon-circle" style="background:#e4e6eb; color:green;"><i class="fas fa-image"></i></div><span>Photo</span>
        </div>
        <div class="upload-item" onclick="selectUploadType('video')">
            <div class="icon-circle" style="background:#e4e6eb; color:red;"><i class="fas fa-video"></i></div><span>Video</span>
        </div>
        <div class="upload-item" onclick="selectUploadType('short')">
            <div class="icon-circle" style="background:#e4e6eb; color:orange;"><i class="fas fa-bolt"></i></div><span>Short / Reel</span>
        </div>
        <div class="upload-item" onclick="openCameraMode('photo')">
            <div class="icon-circle" style="background:#e4e6eb; color:blue;"><i class="fas fa-camera"></i></div><span>Camera</span>
        </div>
        <div class="upload-item" onclick="openCameraMode('live')">
            <div class="icon-circle" style="background:#ffebeb; color:red;"><i class="fas fa-broadcast-tower"></i></div><span>Go Live</span>
        </div>
    </div>
    <!-- ‡¶π‡¶ø‡¶°‡ßá‡¶® ‡¶ï‡ßç‡¶Ø‡¶æ‡¶Æ‡ßá‡¶∞‡¶æ ‡¶á‡¶®‡¶™‡ßÅ‡¶ü -->
    <input type="file" id="cameraInput" accept="image/*,video/*" capture="environment" style="display:none;" onchange="handleCameraUpload()">

    <!-- ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶Æ‡ßá‡¶®‡ßÅ (Dropdown) -->
    <div id="settings-dropdown" class="settings-menu-box" style="display: none;">
        <div class="user-profile-link" onclick="viewUserProfile(currentUser)">
            <img id="menu-user-img" src="" class="menu-img">
            <div>
                <h4 id="menu-user-name">User Name</h4>
                <span style="font-size: 13px; color: gray;">See your profile</span>
            </div>
        </div>
        <hr>
        <div class="menu-item" style="cursor: default; background: #fff8e1;">
            <div class="icon-circle" style="background: gold; color: white;"><i class="fas fa-coins"></i></div>
            <span style="font-weight: bold; color: #f57f17;">My Coins: <span id="user-coin-balance">0</span></span>
        </div>
        <div class="menu-item" onclick="openSettingsModal()"> <!-- ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶¨‡¶¶‡¶≤‡¶æ‡¶®‡ßã ‡¶π‡¶≤‡ßã -->
            <div class="icon-circle"><i class="fas fa-cog"></i></div>
            <span id="txt_settings">Settings & Privacy</span>
        </div>

        <hr>
        <div class="menu-item" onclick="logout()">
            <div class="icon-circle"><i class="fas fa-sign-out-alt"></i></div><span>Log Out</span>
        </div>
    </div>

    <!-- ‡¶®‡ßã‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶¨‡¶ï‡ßç‡¶∏ -->
    <div id="notification-box" class="notif-box" style="display: none;">
        <h4>‡¶®‡ßã‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶®</h4><hr>
        <p>üîî ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶§‡ßÅ‡¶® ‡¶∏‡ßã‡¶∂‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá!</p>
    </div>

    <!-- ‡¶Æ‡ßá‡¶∏‡ßá‡¶û‡ßç‡¶ú‡¶æ‡¶∞ ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® -->
    <div id="messenger-dropdown" class="messenger-dropdown" style="display: none;">
        <div class="messenger-header" style="display:flex; justify-content:space-between; align-items:center;">
            <h4 style="margin:0;">Chats</h4>
            <div onclick="togglePhoneSearch()" style="cursor:pointer; background:#f0f2f5; width:35px; height:35px; border-radius:50%; display:flex; justify-content:center; align-items:center; color:#1877f2;" title="Connect by Phone">
                <i class="fas fa-phone-alt"></i><i class="fas fa-plus" style="font-size:10px;"></i>
            </div>
        </div>
        <!-- ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¨‡¶ï‡ßç‡¶∏ -->
        <div id="msg-phone-box" class="glass-search-box" style="display:none;">
            <input type="number" id="msgPhoneInput" placeholder="Enter Mobile Number...">
            <button onclick="quickPhoneConnect()"><i class="fas fa-paper-plane"></i></button>
        </div>
        <!-- ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö -->
        <div class="chat-search-bar-container">
            <i class="fas fa-search" style="color:gray;"></i>
            <input type="text" id="chatSearchInput" placeholder="‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶¶‡ßá‡¶∞ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®..." onkeyup="filterChatList()">
        </div>
        <!-- ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü -->
        <div id="messenger-list-body" class="messenger-list">
            <p style="text-align:center; padding:10px;">‡¶≤‡ßã‡¶°‡¶ø‡¶Ç...</p>
        </div>
    </div>

    <!-- ‡¶ó‡ßç‡¶≤‡¶æ‡¶∏ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü ‡¶¨‡¶ï‡ßç‡¶∏ (Chat Window) -->
    <div id="chat-box" class="glass-chat-container" style="display: none;">
        <div class="glass-chat-header">
            <div style="display:flex; align-items:center; gap:10px;">
                <div style="position:relative;">
                    <img id="chat-friend-img" src="" class="chat-head-img">
                    <span class="active-dot"></span>
                </div>
                <div>
                    <span id="chat-friend-name" style="font-weight:bold; font-size:16px;">Name</span>
                    <p style="font-size:10px; margin:0; opacity:0.8;">Active Now</p>
                </div>
            </div>
            <div class="chat-actions">
                <button onclick="startCall('audio')"><i class="fas fa-phone-alt"></i></button>
                <button onclick="startCall('video')"><i class="fas fa-video"></i></button>
                <div style="position: relative; display: inline-block;">
                    <button onclick="toggleChatSettings()" title="Settings" style="background: rgba(255,255,255,0.3);">
                    <i class="fas fa-cog"></i>
                    </button>

                    <!-- ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® ‡¶Æ‡ßá‡¶®‡ßÅ -->
                    <div id="chat-settings-menu" class="chat-settings-dropdown" style="display: none;">
                        <div onclick="changeChatTheme()">üé® Change Theme</div>
                        <div onclick="deleteChatHistory()">üóëÔ∏è Delete Chat</div>
                        <div onclick="muteChat()">Hz Mute Notifications</div>
                        <div onclick="blockChatUser()" style="color: red;">üö´ Block User</div>
                    </div>
                </div>

                <button onclick="closeChat()" style="background:red; color:white;"><i class="fas fa-times"></i></button>
            </div>
        </div>
        <div id="chat-messages" class="glass-chat-body"></div>
        <!-- index.html ‡¶è‡¶∞ glass-chat-footer ‡¶Ö‡¶Ç‡¶∂‡¶ü‡¶ø ‡¶è‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶® -->

    <div class="glass-chat-footer" style="position: relative;">
    
         <!-- ‡ßß. ‡¶è‡¶ü‡¶æ‡¶ö‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßá‡¶®‡ßÅ (‡¶≤‡ßÅ‡¶ï‡¶æ‡¶®‡ßã ‡¶•‡¶æ‡¶ï‡¶¨‡ßá) -->
        <div id="chat-attachment-menu" class="chat-attach-menu" style="display: none;">
        
        <div class="attach-item" onclick="document.getElementById('chatPhotoInput').click()">
            <div class="icon-circle" style="background:#e8f5e9; color:green;">
               <i class="fas fa-image"></i>
            </div>
            <span>Photo</span>
        </div>

        <!-- ‡ß®. ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶Ö‡¶™‡¶∂‡¶® (‡¶®‡¶§‡ßÅ‡¶®) -->
        <div class="attach-item" onclick="document.getElementById('chatVideoInput').click()">
            <div class="icon-circle" style="background:#ffebee; color:red;">
                <i class="fas fa-video"></i>
            </div>
            <span>Video</span>
        </div>

        <!-- ‡¶ï‡ßç‡¶Ø‡¶æ‡¶Æ‡ßá‡¶∞‡¶æ -->
        <div class="attach-item" onclick="openCameraMode('chat')">
            <div class="icon-circle" style="background:#e3f2fd; color:blue;">
                <i class="fas fa-camera"></i>
            </div>
            <span>Camera</span>
        </div>

        <!-- ‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶® -->
        <div class="attach-item" onclick="sendChatLocation()">
            <div class="icon-circle" style="background:#ffebee; color:red;">
                <i class="fas fa-map-marker-alt"></i>
            </div>
            <span>Location</span>
        </div>
    </div>
    <input type="file" id="chatPhotoInput" accept="image/*" style="display:none;" onchange="handleChatFileUpload('photo')">
    <input type="file" id="chatVideoInput" accept="video/*" style="display:none;" onchange="handleChatFileUpload('video')">

    <!-- ‡ß®. ‡¶™‡ßç‡¶≤‡¶æ‡¶∏ ‡¶¨‡¶æ‡¶ü‡¶® (‡¶Æ‡ßá‡¶®‡ßÅ ‡¶ì‡¶™‡ßá‡¶® ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø) -->
    <button onclick="toggleChatAttach()">
        <i class="fas fa-plus-circle" style="font-size: 24px; color: #1877f2;"></i>
    </button>

    <!-- ‡ß©. ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶¨‡¶ï‡ßç‡¶∏ -->
    <input type="text" id="msgInput" placeholder="Type a message...">
    
    <!-- ‡ß™. ‡¶∏‡ßá‡¶®‡ßç‡¶° ‡¶¨‡¶æ‡¶ü‡¶® -->
    <button onclick="sendMessage()" class="send-btn">
        <i class="fas fa-paper-plane"></i>
    </button>
    </div>
    </div>

    <!-- ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶Æ‡ßã‡¶°‡¶æ‡¶≤ (Create Post) -->
    <div id="post-modal" class="modal" style="display: none;">
        <div class="modal-content" style="width: 500px; text-align: left;">
            <div style="display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #ddd; padding-bottom:10px; margin-bottom:10px;">
                <h3 style="margin:0;">Create Post</h3>
                <span onclick="closePostModal()" style="cursor:pointer; font-size:24px;">&times;</span>
            </div>
            <div style="display:flex; align-items:center; gap:10px; margin-bottom:15px;">
                <img id="modal-user-pic" src="" width="45" height="45" style="border-radius:50%;">
                <div>
                    <h4 id="modal-user-name" style="margin:0;">User</h4>
                    <select id="postPrivacy" style="font-size:12px; padding:2px; border-radius:5px; background:#f0f2f5; border:none; cursor:pointer;">
                        <option value="public">üåé Public</option>
                        <option value="private">üîí Only Me</option>
                    </select>
                </div>
            </div>
            <textarea id="postCaption" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡¶®‡ßá‡¶∞ ‡¶ï‡¶•‡¶æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®..." style="width:100%; height:100px; border:none; outline:none; font-size:18px; resize:none;"></textarea>
            <div style="margin:10px 0; display:flex; align-items:center; gap:5px; border:1px solid #ddd; padding:5px; border-radius:8px;">
                <i class="fas fa-map-marker-alt" style="color:red;"></i>
                <input type="text" id="postLocation" placeholder="‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®" style="border:none; outline:none; width:100%;">
            </div>
            <div style="border:1px solid #ddd; padding:10px; border-radius:8px; margin-bottom:10px;">
                <input type="file" id="fileInput" style="display:none;" onchange="previewFile()">
                <div id="file-preview" style="text-align:center; color:gray; cursor:pointer;" onclick="document.getElementById('fileInput').click()">
                    <div style="background:#f0f2f5; padding:20px; border-radius:8px;">
                        <i class="fas fa-images" style="font-size:24px;"></i><p>‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                    </div>
                </div>
            </div>
            <div style="margin-bottom:15px;">
                <input type="checkbox" id="shortCheck">
                <label for="shortCheck">Short Video / Reels?</label>
            </div>
            <button onclick="uploadPost()" class="btn-primary" style="width:100%; padding:10px; font-size:16px;">Post</button>
        </div>
    </div>

    <!-- ‡¶ï‡ßç‡¶Ø‡¶æ‡¶Æ‡ßá‡¶∞‡¶æ ‡¶ì ‡¶≤‡¶æ‡¶á‡¶≠ ‡¶Æ‡ßã‡¶°‡¶æ‡¶≤ -->
    <div id="camera-stream-modal" class="modal" style="display: none; background: black; z-index: 5000;">
        <div class="modal-content" style="width: 100%; height: 100%; background: black; display:flex; flex-direction:column; justify-content:center; align-items:center; padding:0;">
            <span onclick="closeCameraMode()" style="position:absolute; top:20px; right:20px; color:white; font-size:30px; cursor:pointer; z-index:10;">&times;</span>
            <h3 id="camera-status" style="color:white; position:absolute; top:20px; left:20px;">Camera</h3>
            <video id="video-feed" autoplay playsinline style="width:100%; max-width:600px; height:auto; border-radius:10px;"></video>
            <canvas id="camera-canvas" style="display:none;"></canvas>
            <div style="position:absolute; bottom:30px; display:flex; gap:20px;">
                <button id="capture-btn" onclick="capturePhoto()" style="width:60px; height:60px; border-radius:50%; background:white; border:5px solid #ddd; cursor:pointer;"></button>
                <button id="go-live-btn" onclick="startLiveStream()" style="display:none; padding:10px 20px; background:red; color:white; border:none; border-radius:20px; font-weight:bold;">GO LIVE</button>
            </div>
        </div>
    </div>

    <!-- ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶≠‡¶ø‡¶â ‡¶Æ‡ßã‡¶°‡¶æ‡¶≤ (‡¶™‡¶™-‡¶Ü‡¶™) -->
    <div id="profile-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close-btn" onclick="closeProfileModal()">&times;</span>
            <img id="modal-img" src="" class="profile-pic-large" style="margin: 0 auto;">
            <h2 id="modal-name" style="margin: 10px 0;">User Name</h2>
            <div id="modal-actions" id="modal-actions"></div> <!-- Actions Container -->
        </div>
    </div>

    <!-- ‡¶è‡¶°‡¶ø‡¶ü ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶Æ‡ßã‡¶°‡¶æ‡¶≤ -->
    <div id="edit-profile-modal" class="modal" style="display: none;">
        <div class="modal-content" style="width: 400px; text-align: left;">
            <div style="display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #ddd; padding-bottom:10px; margin-bottom:15px;">
                <h3 style="margin:0;">Edit Profile</h3>
                <span onclick="document.getElementById('edit-profile-modal').style.display='none'" style="cursor:pointer; font-size:24px;">&times;</span>
            </div>
            <!-- ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶™‡¶ø‡¶ï‡¶ö‡¶æ‡¶∞ -->
            <label style="font-weight:bold; font-size:14px;">Profile Picture</label>
            <div style="display:flex; align-items:center; gap:10px; margin-bottom:15px; background:#f0f2f5; padding:10px; border-radius:8px;">
                <img id="preview-profile-pic" src="" style="width:50px; height:50px; border-radius:50%; object-fit:cover; border:1px solid #ddd;">
                <input type="file" id="editProfileInput" accept="image/*">
            </div>
            <!-- ‡¶ï‡¶≠‡¶æ‡¶∞ ‡¶´‡¶ü‡ßã -->
            <label style="font-weight:bold; font-size:14px;">Cover Photo</label>
            <div style="margin-bottom:15px; background:#f0f2f5; padding:10px; border-radius:8px;">
                <img id="preview-cover-pic" src="" style="width:100%; height:80px; object-fit:cover; border-radius:5px; margin-bottom:5px; display:none;">
                <input type="file" id="editCoverInput" accept="image/*">
            </div>
            <!-- ‡¶¨‡¶æ‡ßü‡ßã -->
            <label style="font-weight:bold; font-size:14px;">Bio</label>
            <textarea id="editBioInput" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®..." style="width:100%; height:60px; padding:10px; margin-top:5px; border:1px solid #ddd; border-radius:5px; outline:none; resize:none;"></textarea>
            <button onclick="saveProfileChanges()" class="btn-primary" style="width:100%; margin-top:15px; padding:10px; font-weight:bold;">Save Changes</button>
        </div>
    </div>

    <!-- ‡¶´‡ßÅ‡¶≤ ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶® ‡¶∂‡¶∞‡ßç‡¶ü‡¶∏ ‡¶Æ‡ßã‡¶°‡¶æ‡¶≤ (ID ‡¶´‡¶ø‡¶ï‡ßç‡¶∏‡¶°) -->
<div id="full-shorts-modal" class="modal" style="display: none; background: black; z-index: 10000;">
    <div class="modal-content" style="width: 100%; height: 100%; background: black; padding: 0; display: flex; justify-content: center; align-items: center; position: relative;">
        
        <!-- ‡¶ï‡ßç‡¶≤‡ßã‡¶ú ‡¶¨‡¶æ‡¶ü‡¶® -->
        <span onclick="closeFullShorts()" style="position: absolute; top: 20px; left: 20px; color: white; font-size: 30px; cursor: pointer; z-index: 100; background: rgba(0,0,0,0.5); padding: 5px 15px; border-radius: 50%;">&times;</span>

        <div id="shorts-scroll-container" class="shorts-scroll-container">
            <!-- JS ‡¶¶‡¶ø‡ßü‡ßá ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶∏‡ßç‡¶≤‡¶æ‡¶á‡¶° ‡¶¨‡¶∏‡¶¨‡ßá -->
        </div>
        <div class="full-shorts-container" style="position: relative; width: 100%; max-width: 500px; height: 100%;">
            
            <!-- ‡ßß. ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì‡¶§‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶≤‡ßá‡ßü‡¶æ‡¶∞ -->
            <div onclick="toggleShortsPlay()" style="width:100%; height:80%; position:absolute; top:0; left:0; z-index:5;"></div>

            <!-- ‡ß®. ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶™‡ßç‡¶≤‡ßá‡ßü‡¶æ‡¶∞ -->
            <video id="full-short-video" src="" loop playsinline style="width: 100%; height: 100%; object-fit: contain;"></video>

            <!-- ‡ß©. ‡¶™‡ßç‡¶≤‡ßá/‡¶™‡¶ú ‡¶Ü‡¶á‡¶ï‡¶® (‡¶è‡¶ü‡¶ø ‡¶Æ‡¶ø‡¶∏‡¶ø‡¶Ç ‡¶õ‡¶ø‡¶≤ ‡¶¨‡¶æ ‡¶ú‡¶æ‡¶≠‡¶æ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶™‡¶æ‡¶ö‡ßç‡¶õ‡¶ø‡¶≤ ‡¶®‡¶æ) -->
            <div id="play-pause-icon" style="display:none; position:absolute; top:50%; left:50%; transform:translate(-50%, -50%); z-index:6; font-size:60px; color:white; opacity:0.8; pointer-events:none;">
                <i class="fas fa-play"></i>
            </div>

            <!-- ‡ß™. ‡¶°‡¶æ‡¶® ‡¶™‡¶æ‡¶∂‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ü‡¶® -->
            <div class="shorts-right-actions" style="z-index: 20;">
                <div id="full-short-like-btn"></div>
                <div id="full-short-comment-btn"></div>
                <div onclick="alert('Link Copied!')"><i class="fas fa-share"></i><span>Share</span></div>
            </div>

            <!-- ‡ß´. ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶á‡¶®‡¶´‡ßã -->
            <div class="shorts-bottom-info" style="position: absolute; bottom: 40px; left: 15px; width: 90%; z-index: 20;">
                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                    <img id="full-short-profile-pic" src="" style="width: 45px; height: 45px; border-radius: 50%; border: 2px solid white; cursor: pointer;">
                    <div style="display: flex; flex-direction: column; align-items: flex-start;">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <h4 id="full-short-username" style="margin: 0; color: white; cursor: pointer; text-shadow: 1px 1px 2px black; font-size: 16px;"></h4>
                            <div id="full-short-follow-btn"></div>
                        </div>
                    </div>
                </div>
                <p id="full-short-caption" style="color: white; font-size: 14px; margin: 0; text-shadow: 1px 1px 2px black; opacity: 0.9;"></p>
            </div>

            <!-- ‡ß¨. ‡¶ü‡¶æ‡¶á‡¶Æ‡¶æ‡¶∞ -->
            <div id="video-timer" style="position:absolute; bottom:15px; right:15px; color:white; font-size:12px; z-index:25; text-shadow:1px 1px 2px black; font-weight:bold;">
                00:00 / 00:00
            </div>

            <!-- ‡ß≠. ‡¶™‡ßç‡¶∞‡ßã‡¶ó‡ßç‡¶∞‡ßá‡¶∏ ‡¶¨‡¶æ‡¶∞ -->
            <input type="range" id="shorts-progress-bar" min="0" max="100" value="0" step="0.1" oninput="seekVideo()" 
               style="position:absolute; bottom:0; left:0; width:100%; z-index:30; cursor:pointer; accent-color: red; height: 4px; margin:0;">
        </div>
    </div>
</div>
    <!-- ================== ‡ß™. ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶´‡¶ø‡¶ï‡ßç‡¶∏‡¶° ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® ‡¶¨‡¶æ‡¶∞ ================== -->
    <div class="bottom-nav">
        <!-- ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ -->
        <div class="b-nav-item" onclick="viewUserProfile(currentUser)">
            <img id="bottom-profile-img" src="" class="b-nav-profile">
        </div>
        <!-- ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì -->
        <div class="b-nav-item" onclick="filterVideos()">
            <i class="fas fa-tv"></i>
        </div>
        <!-- ‡¶π‡ßã‡¶Æ -->
        <div class="b-nav-item home-bubble" onclick="loadPosts()">
            <i class="fas fa-home"></i>
        </div>
        <!-- ‡¶∂‡¶∞‡ßç‡¶ü‡¶∏ -->
        <div class="b-nav-item" onclick="filterShorts()">
            <i class="fas fa-bolt"></i>
        </div>
        <!-- ‡¶´‡ßç‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶∏ -->
        <div class="b-nav-item" onclick="showFriendsView()">
            <i class="fas fa-handshake"></i>
            <span class="notification-badge" id="req-badge-bottom" style="display:none">0</span>
        </div>
    </div>

    <!-- ‡¶∂‡¶∞‡ßç‡¶ü‡¶∏ ‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßã‡¶°‡¶æ‡¶≤ -->
    <div id="shorts-comment-modal" class="modal" style="display: none;">
       <div class="modal-content" style="width: 400px; height: 500px; display:flex; flex-direction:column; padding:0; border-radius: 15px; overflow: hidden;">
        
        <!-- ‡ßß. ‡¶π‡ßá‡¶°‡¶æ‡¶∞ -->
        <div style="padding:15px; border-bottom:1px solid #ddd; display:flex; justify-content:space-between; align-items:center; background: white;">
            <h3 style="margin:0;">Comments</h3>
            <span onclick="closeShortsComments()" style="cursor:pointer; font-size:24px; color:red;">&times;</span>
        </div>

        <!-- ‡ß®. ‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü (‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡¶ó‡ßÅ‡¶≤‡ßã ‡¶≤‡ßã‡¶° ‡¶π‡¶¨‡ßá) -->
        <div id="shorts-comments-list" style="flex:1; overflow-y:auto; padding:15px; background:#f9f9f9;">
            <!-- ‡¶ú‡¶æ‡¶≠‡¶æ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶¶‡¶ø‡ßü‡ßá ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Ü‡¶∏‡¶¨‡ßá -->
        </div>

        <!-- ‡ß©. ‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶ú‡¶æ‡ßü‡¶ó‡¶æ -->
        <div style="padding:10px; border-top:1px solid #ddd; display:flex; gap:10px; background:white;">
            <input type="text" id="shortsCommentInput" placeholder="‡¶∏‡ßÅ‡¶®‡ßç‡¶¶‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®..." style="flex:1; padding:10px; border:1px solid #ddd; border-radius:20px; outline:none;">
            <button id="shortsCommentBtn" style="background:#1877f2; color:white; border:none; width:40px; height:40px; border-radius:50%; cursor:pointer;">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
        </div>
    </div>

    <!-- ‡¶Æ‡ßá‡¶á‡¶® ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶Æ‡ßã‡¶°‡¶æ‡¶≤ -->
    <div id="settings-modal" class="modal" style="display: none;">
        <div class="modal-content" style="width: 400px; padding: 0; overflow: hidden;">
        
            <!-- ‡¶π‡ßá‡¶°‡¶æ‡¶∞ -->
            <div style="padding: 15px; background: #f0f2f5; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #ddd;">
                <h3 style="margin:0;"><i class="fas fa-cog"></i> Settings</h3>
                <span onclick="document.getElementById('settings-modal').style.display='none'" style="cursor: pointer; font-size: 24px;">&times;</span>
            </div>

            <div style="padding: 20px;">
            
                <!-- ‡ßß. ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® -->
                <div class="setting-item" onclick="toggleSettingSection('pass-section')">
                    <div style="display:flex; align-items:center; gap:10px;">
                       <i class="fas fa-lock" style="color: #1877f2;"></i>
                       <span id="Change Password">Change Password</span>
                    </div>
                <i class="fas fa-chevron-right"></i>
            </div>
                <!-- ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶´‡¶∞‡ßç‡¶Æ (‡¶≤‡ßÅ‡¶ï‡¶æ‡¶®‡ßã) -->
                <div id="pass-section" class="setting-sub-section" style="display:none;">
                    <input type="password" id="oldPass" placeholder="Old Password">
                    <input type="password" id="newPass" placeholder="New Password">
                    <button onclick="changePassword()" class="btn-primary" style="width:100%; margin-top:5px;">Update Password</button>
                </div>

                <div class="menu-item" onclick="openBlockedListModal()">
                    <div class="icon-circle"><i class="fas fa-user-slash" style="color: red;"></i></div>
                    <span>Blocked Users</span>
                </div>

                <!-- ‡ß®. ‡¶°‡¶æ‡¶∞‡ßç‡¶ï ‡¶Æ‡ßã‡¶° -->
                <div class="setting-item">
                    <div style="display:flex; align-items:center; gap:10px;">
                       <i class="fas fa-moon" style="color: #6c5ce7;"></i>
                       <span id="txt_dark">Display (Dark Mode)</span>
                    </div>
                     <!-- ‡¶ü‡¶ó‡¶≤ ‡¶∏‡ßÅ‡¶á‡¶ö -->
                    <label class="switch">
                       <input type="checkbox" id="darkModeToggle" onchange="toggleDarkMode()">
                       <span class="slider round"></span>
                    </label>
                </div>


                    <!-- ... ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶è‡¶¨‡¶Ç ‡¶°‡¶æ‡¶∞‡ßç‡¶ï ‡¶Æ‡ßã‡¶° ‡¶ï‡ßã‡¶°‡ßá‡¶∞ ‡¶®‡¶ø‡¶ö‡ßá ... -->

                    <!-- ‡ß©. ‡¶≠‡¶æ‡¶∑‡¶æ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® (Language) -->
                    <div class="setting-item" onclick="toggleSettingSection('lang-section')">
                        <div style="display:flex; align-items:center; gap:10px;">
                            <i class="fas fa-globe" style="color: #00b894;"></i> <!-- ‡¶ó‡ßç‡¶≤‡ßã‡¶¨ ‡¶Ü‡¶á‡¶ï‡¶® -->
                            <span id="txt_lang">Language</span>
                        </div>
                        <i class="fas fa-chevron-right"></i>
                    </div>

                    <!-- ‡¶≠‡¶æ‡¶∑‡¶æ ‡¶¨‡¶æ‡¶õ‡¶æ‡¶á ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü (‡¶≤‡ßÅ‡¶ï‡¶æ‡¶®‡ßã) -->
                    <div id="lang-section" class="setting-sub-section" style="display:none; grid-template-columns: 1fr 1fr; gap: 10px;">
                        <button onclick="changeLanguage('en')" class="lang-btn">üá∫üá∏ English</button>
                        <button onclick="changeLanguage('bn')" class="lang-btn">üáßüá© ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</button>
                        <button onclick="changeLanguage('hi')" class="lang-btn">üáÆüá≥ ‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</button>
                    </div>

                    <div class="setting-item" onclick="window.open('/privacy-policy', '_blank')">
                        <div style="display:flex; align-items:center; gap:10px;">
                            <i class="fas fa-user-shield" style="color: green;"></i>
                            <span>Privacy Policy</span>
                        </div>
                        <i class="fas fa-chevron-right"></i>
                    </div>

                    <div class="menu-item" onclick="document.getElementById('terms-modal').style.display='flex'">
                       <div class="icon-circle"><i class="fas fa-file-contract"></i></div>
                       <span>Terms & Conditions</span>
                    </div>
                    <!-- ... ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶á‡¶®‡¶´‡ßã ‡¶è‡¶¨‡¶Ç ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶®‡¶ø‡¶ö‡ßá ‡¶•‡¶æ‡¶ï‡¶¨‡ßá ... -->
                   

                <!-- ‡ß©. ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶á‡¶®‡¶´‡ßã -->
                <div class="setting-item" onclick="alert('Fun-Earn App v1.0 \nDeveloped by Fun-Earn Team! Fun-Earn ‡¶π‡¶≤‡ßã ‡¶è‡¶ï‡¶ü‡¶ø next-generation social networking platform ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡ßÅ‡¶π‡ßÇ‡¶∞‡ßç‡¶§‡¶ó‡ßÅ‡¶≤‡ßã ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®, ‡¶®‡¶§‡ßÅ‡¶® ‡¶Æ‡¶æ‡¶®‡ßÅ‡¶∑‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶® ‡¶è‡¶¨‡¶Ç ‡¶ü‡ßç‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶ì ‡¶∂‡¶∞‡ßç‡¶ü‡¶∏ ‡¶â‡¶™‡¶≠‡ßã‡¶ó ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®‡•§ ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ privacy, security ‡¶è‡¶¨‡¶Ç smooth experience ‡¶ï‡ßá ‡¶∏‡¶¨‡¶ö‡ßá‡ßü‡ßá ‡¶¨‡ßá‡¶∂‡¶ø ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨ ‡¶¶‡¶ø‡¶á‡•§ ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Ø ‚Äî ‚úî ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶ ‡¶™‡¶∞‡¶ø‡¶¨‡ßá‡¶∂ ‚úî ‡¶∏‡¶π‡¶ú ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‚úî ‡¶∏‡¶¨‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶´‡ßç‡¶∞‡¶ø social experience')">
                    <div style="display:flex; align-items:center; gap:10px;">
                        <i class="fas fa-info-circle" style="color: #00cec9;"></i>
                        <span id="txt_About App">About App</span>
                    </div>
                    <i class="fas fa-chevron-right"></i>
                </div>

                <hr>

                <!-- ‡ß™. ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü -->
                <div class="setting-item" onclick="deleteMyAccount()" style="color: red;">
                    <div style="display:flex; align-items:center; gap:10px;">
                        <i class="fas fa-trash-alt"></i>
                        <span id="txt_Delete Account">Delete Account</span>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- TikTok ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ ‡¶∂‡¶∞‡ßç‡¶ü‡¶∏ ‡¶ï‡ßç‡¶∞‡¶ø‡ßü‡ßá‡¶ü‡¶∞ ‡¶Æ‡ßã‡¶°‡¶æ‡¶≤ -->
    <div id="tiktok-creator-modal" class="modal" style="display: none; background: black; z-index: 20000;">
       <div class="modal-content" style="width: 100%; height: 100%; padding: 0; background: black; position: relative;">
        
            <!-- ‡ßß. ‡¶ï‡ßç‡¶≤‡ßã‡¶ú ‡¶¨‡¶æ‡¶ü‡¶® -->
            <span onclick="closeTikTokCreator()" style="position: absolute; top: 20px; left: 20px; color: white; font-size: 30px; cursor: pointer; z-index: 50; text-shadow: 0 0 5px black;">&times;</span>

            <!-- ‡ß®. ‡¶ï‡ßç‡¶Ø‡¶æ‡¶Æ‡ßá‡¶∞‡¶æ ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â -->
            <video id="creator-video-preview" autoplay playsinline muted style="width: 100%; height: 100%; object-fit: cover; filter: none;"></video>

            <!-- ‡ß©. ‡¶°‡¶æ‡¶® ‡¶™‡¶æ‡¶∂‡ßá‡¶∞ ‡¶ü‡ßÅ‡¶≤‡¶∏ (Filters, Flip, Speed) -->
            <div class="creator-sidebar">
                <div onclick="switchCamera()">
                    <i class="fas fa-sync-alt"></i> <span>Flip</span>
                </div>
                <div onclick="changeFilter()">
                    <i class="fas fa-magic"></i> <span>Filter</span>
                </div>
                <div onclick="alert('‡¶∏‡ßç‡¶™‡¶ø‡¶° ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤ ‡¶∂‡ßÄ‡¶ò‡ßç‡¶∞‡¶á ‡¶Ü‡¶∏‡¶õ‡ßá!')">
                    <i class="fas fa-tachometer-alt"></i> <span>Speed</span>
                </div>
                <div onclick="alert('‡¶ü‡¶æ‡¶á‡¶Æ‡¶æ‡¶∞ ‡¶∂‡ßÄ‡¶ò‡ßç‡¶∞‡¶á ‡¶Ü‡¶∏‡¶õ‡ßá!')">
                    <i class="fas fa-stopwatch"></i> <span>Timer</span>
                </div>
            </div>

            <!-- ‡ß™. ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤ (Upload, Record) -->
            <div class="creator-bottom-controls">
            
                <!-- ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶¨‡¶æ‡¶ü‡¶® (‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø ‡¶•‡ßá‡¶ï‡ßá) -->
                <div class="creator-action-btn" onclick="document.getElementById('shortGalleryInput').click()">
                    <div class="gallery-icon-box">
                        <i class="fas fa-images"></i>
                    </div>
                    <span>Upload</span>
                </div>

                <!-- ‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶° ‡¶¨‡¶æ‡¶ü‡¶® (‡¶Æ‡¶æ‡¶ù‡¶ñ‡¶æ‡¶®‡ßá) -->
                <button id="record-btn" onclick="toggleRecording()" class="record-button">
                    <div class="record-inner"></div>
                </button>

                <div class="creator-action-btn" onclick="goLive()"> <!-- ‡¶è‡¶ñ‡¶æ‡¶®‡ßá goLive() ‡¶¨‡¶∏‡¶æ‡¶® -->
                    <div class="gallery-icon-box" style="border: 2px solid white; background: transparent;">
                        <i class="fas fa-broadcast-tower"></i>
                    </div>
                    <span>Go Live</span>
                </div>
            </div>

            <!-- ‡¶π‡¶ø‡¶°‡ßá‡¶® ‡¶á‡¶®‡¶™‡ßÅ‡¶ü (‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶°‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø) -->
            <input type="file" id="shortGalleryInput" accept="video/*" style="display: none;" onchange="handleGalleryUpload()">
    
        </div>
    </div>

    <!-- ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶è‡¶¨‡¶Ç ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶Æ‡ßã‡¶°‡¶æ‡¶≤ (‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶°‡¶ø‡¶Ç ‡¶è‡¶∞ ‡¶™‡¶∞ ‡¶Ü‡¶∏‡¶¨‡ßá) -->
    <div id="short-preview-modal" class="modal" style="display: none; background: rgba(0,0,0,0.9); z-index: 21000;">
        <div class="modal-content" style="width: 400px; background: white; padding: 20px; border-radius: 15px; text-align: center;">
            <h3>Short Ready!</h3>
            <video id="final-preview" controls style="width: 100%; max-height: 400px; border-radius: 10px; margin: 10px 0;"></video>
            <input type="text" id="short-caption-input" placeholder="‡¶ï‡ßç‡¶Ø‡¶æ‡¶™‡¶∂‡¶® ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®... #fun #shorts" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 10px; outline: none; margin-bottom: 10px;">
        
            <div style="display: flex; gap: 10px;">
                <button onclick="uploadRecordedShort()" class="btn-primary" style="flex: 1;">Post Short</button>
                <button onclick="discardRecording()" class="btn-secondary" style="flex: 1; background: red; color: white; border: none;">Discard</button>
            </div>
        </div>
    </div>

    <!-- ‡¶≤‡¶æ‡¶á‡¶≠ ‡¶≠‡¶ø‡¶â‡ßü‡¶æ‡¶∞ ‡¶Æ‡ßã‡¶°‡¶æ‡¶≤ (‡¶¶‡¶∞‡ßç‡¶∂‡¶ï‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø) -->
    <div id="live-viewer-modal" class="modal" style="display: none; background: black; z-index: 25000;">
        <div class="modal-content" style="width: 100%; height: 100%; background: #111; padding: 0; position: relative; display: flex; justify-content: center;">
        
            <!-- ‡¶ï‡ßç‡¶≤‡ßã‡¶ú ‡¶¨‡¶æ‡¶ü‡¶® -->
            <span onclick="closeLiveViewer()" style="position: absolute; top: 20px; right: 20px; color: white; font-size: 30px; cursor: pointer; z-index: 100;">&times;</span>

            <!-- ‡¶≤‡¶æ‡¶á‡¶≠ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ú -->
            <div style="position: absolute; top: 20px; left: 20px; background: red; color: white; padding: 5px 10px; border-radius: 5px; font-weight: bold; z-index: 50;">üî¥ LIVE</div>

            <!-- ‡¶≤‡¶æ‡¶á‡¶≠ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶´‡¶ø‡¶° (Image ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶´‡ßç‡¶∞‡ßá‡¶Æ ‡¶Ü‡¶∏‡¶¨‡ßá) -->
            <img id="live-feed-display" style="width: 100%; height: 100%; object-fit: contain;">

            <!-- ‡¶≤‡¶æ‡¶á‡¶≠ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü/‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡ßá‡¶ï‡¶∂‡¶® -->
            <div style="position: absolute; bottom: 0; left: 0; width: 100%; height: 300px; background: linear-gradient(transparent, black); display: flex; flex-direction: column; justify-content: flex-end; padding: 15px;">
            
                <div id="live-chat-box" style="height: 200px; overflow-y: auto; color: white; margin-bottom: 10px; text-shadow: 1px 1px 2px black;">
                   <!-- ‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶∏‡¶¨‡ßá -->
                </div>

                <div style="display: flex; gap: 10px;">
                    <input type="text" id="liveCommentInput" placeholder="Say something..." style="flex: 1; padding: 10px; border-radius: 20px; border: none; outline: none;">
                    <button onclick="sendLiveComment()" style="background: #1877f2; color: white; border: none; padding: 10px 15px; border-radius: 50%;"><i class="fas fa-paper-plane"></i></button>
                </div>
            </div>
        </div>
    </div>

    <!-- Terms & Conditions Modal -->
    <div id="terms-modal" class="modal" style="display: none;">
        <div class="modal-content" style="width: 500px; max-height: 80vh; overflow-y: auto; text-align: left; padding: 20px;">
            <div style="display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #ddd; padding-bottom:10px;">
                <h3>Terms & Conditions</h3>
                <span onclick="document.getElementById('terms-modal').style.display='none'" style="cursor:pointer; font-size:24px;">&times;</span>
            </div>
            <div style="margin-top: 15px; font-size: 14px; color: #333;">
                <p><strong>1. User Conduct:</strong> You agree not to post inappropriate, violent, or illegal content.</p>
                <p><strong>2. Privacy:</strong> We respect your privacy. Your data is used to improve user experience.</p>
                <p><strong>3. Reporting & Blocking:</strong> You can report or block users who violate rules.</p>
                <p><strong>4. Copyright:</strong> Do not upload copyrighted videos (e.g. YouTube downloads) as your own.</p>
                <p><strong>5. Termination:</strong> We reserve the right to ban accounts violating these terms.</p>
                <br>
                <p style="color:gray; font-size:12px;">Last updated: 2025</p>
            </div>
            <button onclick="document.getElementById('terms-modal').style.display='none'" class="btn-primary" style="width:100%; margin-top:20px;">I Agree</button>
        </div>
    </div>

    <!-- ‡¶¨‡ßç‡¶≤‡¶ï ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü ‡¶Æ‡ßã‡¶°‡¶æ‡¶≤ -->
    <div id="blocked-list-modal" class="modal" style="display: none;">
        <div class="modal-content" style="width: 400px; max-height: 80vh; overflow-y: auto;">
        
            <!-- ‡¶π‡ßá‡¶°‡¶æ‡¶∞ -->
            <div style="display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #ddd; padding-bottom:10px; margin-bottom:10px;">
                <h3 style="margin:0; color:red;">üö´ Blocked Users</h3>
                <span onclick="document.getElementById('blocked-list-modal').style.display='none'" style="cursor:pointer; font-size:24px;">&times;</span>
            </div>

            <!-- ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞ -->
            <div id="blocked-users-container">
                <p style="text-align:center;">‡¶≤‡ßã‡¶°‡¶ø‡¶Ç...</p>
            </div>
        </div>
    </div>

    <!-- ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßã‡¶°‡¶æ‡¶≤ -->
    <div id="post-comment-modal" class="modal" style="display: none; z-index: 15000;">
        <div class="modal-content" style="width: 500px; height: 600px; display:flex; flex-direction:column; padding:0; border-radius: 15px; overflow: hidden; background: white;">
        
            <!-- ‡ßß. ‡¶π‡ßá‡¶°‡¶æ‡¶∞ -->
            <div style="padding:15px; border-bottom:1px solid #ddd; display:flex; justify-content:space-between; align-items:center;">
                <h3 style="margin:0;">Comments</h3>
                <span onclick="document.getElementById('post-comment-modal').style.display='none'" style="cursor:pointer; font-size:28px; color:gray;">&times;</span>
            </div>

            <!-- ‡ß®. ‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü (‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶∏‡¶¨ ‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡ßã‡¶° ‡¶π‡¶¨‡ßá) -->
            <div id="post-comments-list" style="flex:1; overflow-y:auto; padding:15px; background:#f0f2f5;">
                <!-- ‡¶ú‡¶æ‡¶≠‡¶æ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶¶‡¶ø‡ßü‡ßá ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Ü‡¶∏‡¶¨‡ßá -->
            </div>

            <!-- ‡ß©. ‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶ú‡¶æ‡ßü‡¶ó‡¶æ -->
            <div style="padding:10px; border-top:1px solid #ddd; display:flex; gap:10px; background:white; align-items:center;">
               <img id="modal-my-pic" src="" style="width:35px; height:35px; border-radius:50%;">
               <div style="flex:1; position:relative;">
                   <input type="text" id="postCommentInput" placeholder="Write a comment..." style="width:100%; padding:10px 40px 10px 15px; border:1px solid #ddd; border-radius:20px; outline:none; background:#f0f2f5;">
                   <button id="postCommentBtn" style="position:absolute; right:5px; top:50%; transform:translateY(-50%); background:none; border:none; color:#1877f2; font-size:18px; cursor:pointer;">
                       <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ‡¶Æ‡ßá‡¶á‡¶® ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶´‡¶æ‡¶á‡¶≤ -->
    <script src="script.js"></script>
    
    <!-- ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶á‡¶Æ‡ßá‡¶ú ‡¶∏‡¶ø‡¶ô‡ßç‡¶ï ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶õ‡ßã‡¶ü ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü -->
    <script>
        const observer = new MutationObserver(() => {
            const mainImg = document.getElementById('dashboard-pic') ? document.getElementById('dashboard-pic').src : null;
            if(mainImg) {
                // ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶¨‡¶æ‡¶∞‡ßá ‡¶õ‡¶¨‡¶ø ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
                const bottomImg = document.getElementById('bottom-profile-img');
                if(bottomImg) bottomImg.src = mainImg;
            }
        });
        const profileImgElement = document.getElementById('app-section');
        if(profileImgElement){
             observer.observe(profileImgElement, { attributes: true, subtree: true });
        }
    </script>
</body>
</html>